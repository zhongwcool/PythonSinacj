# 财务数据API总结报告

## 📊 概述

本报告总结了可用于获取股票财务数据（换手率、市盈率、市值等）的API接口，包括测试结果、字段说明和使用建议。

---

## 🏆 API排名与测试结果

### 1. 东方财富财务数据API ⭐⭐⭐⭐⭐

**接口地址**: `http://push2.eastmoney.com/api/qt/stock/get`

**测试结果**:

- ✅ **成功率**: 100% (5/5)
- ⚡ **平均响应时间**: 0.129秒
- 📊 **数据字段数**: 97个字段
- 🎯 **数据质量**: 优秀

**优势**:

- 数据最全面，包含97个字段
- 响应速度快
- 数据准确性高
- 包含完整的财务指标

**关键字段**:

- 换手率: `f43`, `f164`
- 市盈率: `f57`(动态), `f58`(静态), `f169`(TTM)
- 市净率: `f127`
- 市值: `f85`(总市值), `f86`(流通市值)
- 财务指标: `f110`(每股收益), `f111`(每股净资产)

### 2. 腾讯财经财务数据API ⭐⭐⭐⭐

**接口地址**: `http://qt.gtimg.cn/q=股票代码`

**测试结果**:

- ✅ **成功率**: 100% (5/5)
- ⚡ **平均响应时间**: 0.165秒
- 📊 **数据字段数**: 18个字段
- 🎯 **数据质量**: 良好

**优势**:

- 响应速度快
- 数据稳定
- 包含基础财务指标

**关键字段**:

- 换手率: 第37位
- 市盈率: 第38位
- 市净率: 第39位
- 市值: 第40位(总市值), 第41位(流通市值)

### 3. 新浪财经财务数据API ⭐⭐

**接口地址**: `http://money.finance.sina.com.cn/d/api/openapi_proxy.php`

**测试结果**:

- ❌ **成功率**: 0% (0/5)
- ⚡ **响应时间**: 超时
- 📊 **数据字段数**: 未知
- 🎯 **数据质量**: 不可用

**问题**:

- API接口不稳定
- 响应超时
- 数据获取失败

---

## 📋 完整字段列表

### 🏢 基本信息字段

| 字段代码 | 字段名称  | 数据类型   | 单位 | 说明     |
|------|-------|--------|----|--------|
| -    | 股票代码  | String | -  | 股票唯一标识 |
| -    | 股票名称  | String | -  | 股票中文名称 |
| -    | 数据来源  | String | -  | 数据来源平台 |
| -    | 数据时间戳 | String | -  | 数据获取时间 |

### 💰 价格信息字段

| 字段代码 | 字段名称 | 数据类型  | 单位 | 说明        |
|------|------|-------|----|-----------|
| f44  | 最新价  | Float | 元  | 当前交易价格    |
| f47  | 开盘价  | Float | 元  | 当日开盘价格    |
| f45  | 最高价  | Float | 元  | 当日最高价格    |
| f46  | 最低价  | Float | 元  | 当日最低价格    |
| f48  | 昨收价  | Float | 元  | 昨日收盘价格    |
| f49  | 涨跌额  | Float | 元  | 相对昨收涨跌金额  |
| f50  | 涨跌幅  | Float | %  | 相对昨收涨跌百分比 |

### 📈 交易信息字段

| 字段代码     | 字段名称 | 数据类型    | 单位 | 说明      |
|----------|------|---------|----|---------|
| f51      | 成交量  | Integer | 股  | 当日成交股数  |
| f52      | 成交额  | Float   | 元  | 当日成交金额  |
| f43/f164 | 换手率  | Float   | %  | 当日换手率   |
| f162     | 外盘   | Float   | 万股 | 主动买入成交量 |
| f163     | 内盘   | Float   | 万股 | 主动卖出成交量 |

### 📊 估值指标字段

| 字段代码 | 字段名称    | 数据类型  | 单位 | 说明     |
|------|---------|-------|----|--------|
| f57  | 市盈率(动态) | Float | 倍  | 动态市盈率  |
| f58  | 市盈率(静态) | Float | 倍  | 静态市盈率  |
| f169 | 市盈率TTM  | Float | 倍  | 滚动市盈率  |
| f170 | 市盈率LYR  | Float | 倍  | 上年度市盈率 |
| f127 | 市净率     | Float | 倍  | 市净率    |
| f128 | 市销率     | Float | 倍  | 市销率    |

### 🏢 市值信息字段

| 字段代码     | 字段名称 | 数据类型    | 单位 | 说明    |
|----------|------|---------|----|-------|
| f85/f116 | 总市值  | Float   | 亿元 | 公司总市值 |
| f86/f117 | 流通市值 | Float   | 亿元 | 流通股市值 |
| f80      | 总股本  | Integer | 股  | 公司总股本 |
| f84      | 流通股本 | Integer | 股  | 流通股数量 |

### 📉 技术指标字段

| 字段代码     | 字段名称 | 数据类型    | 单位 | 说明     |
|----------|------|---------|----|--------|
| f60/f173 | 量比   | Float   | 倍  | 量比指标   |
| f62/f177 | 委比   | Float   | %  | 委比指标   |
| f55      | 振幅   | Float   | %  | 价格振幅   |
| f71      | 涨速   | Float   | %  | 涨速指标   |
| f161     | 委差   | Integer | 手  | 委买委卖差值 |

### 💼 财务指标字段

| 字段代码 | 字段名称  | 数据类型  | 单位 | 说明     |
|------|-------|-------|----|--------|
| f110 | 每股收益  | Float | 元  | 每股收益   |
| f111 | 每股净资产 | Float | 元  | 每股净资产  |
| f135 | ROE   | Float | %  | 净资产收益率 |
| f136 | ROA   | Float | %  | 总资产收益率 |
| f137 | 毛利率   | Float | %  | 毛利率    |
| f138 | 净利率   | Float | %  | 净利率    |

### 📊 周转率指标字段

| 字段代码 | 字段名称    | 数据类型  | 单位 | 说明      |
|------|---------|-------|----|---------|
| f142 | 存货周转率   | Float | 次  | 存货周转率   |
| f143 | 应收账款周转率 | Float | 次  | 应收账款周转率 |
| f144 | 总资产周转率  | Float | 次  | 总资产周转率  |
| f145 | 固定资产周转率 | Float | 次  | 固定资产周转率 |
| f146 | 股东权益周转率 | Float | 次  | 股东权益周转率 |

### 📈 增长率指标字段

| 字段代码 | 字段名称    | 数据类型  | 单位 | 说明      |
|------|---------|-------|----|---------|
| f147 | 营业收入增长率 | Float | %  | 营业收入增长率 |
| f148 | 净利润增长率  | Float | %  | 净利润增长率  |
| f149 | 净资产增长率  | Float | %  | 净资产增长率  |

### 💸 资金流向字段

| 字段代码 | 字段名称   | 数据类型  | 单位 | 说明       |
|------|--------|-------|----|----------|
| f250 | 主力净流入  | Float | 万元 | 主力资金净流入  |
| f251 | 超大单净流入 | Float | 万元 | 超大单资金净流入 |
| f252 | 大单净流入  | Float | 万元 | 大单资金净流入  |
| f253 | 中单净流入  | Float | 万元 | 中单资金净流入  |
| f254 | 小单净流入  | Float | 万元 | 小单资金净流入  |

### 📊 均线信息字段

| 字段代码 | 字段名称   | 数据类型  | 单位 | 说明        |
|------|--------|-------|----|-----------|
| f183 | 5日均线   | Float | 元  | 5日移动平均线   |
| f184 | 10日均线  | Float | 元  | 10日移动平均线  |
| f185 | 20日均线  | Float | 元  | 20日移动平均线  |
| f186 | 30日均线  | Float | 元  | 30日移动平均线  |
| f187 | 60日均线  | Float | 元  | 60日移动平均线  |
| f188 | 120日均线 | Float | 元  | 120日移动平均线 |
| f189 | 250日均线 | Float | 元  | 250日移动平均线 |

### 📉 技术分析指标字段

| 字段代码 | 字段名称 | 数据类型  | 单位 | 说明     |
|------|------|-------|----|--------|
| f190 | MACD | Float | -  | MACD指标 |
| f191 | KDJ  | Float | -  | KDJ指标  |
| f192 | RSI  | Float | -  | RSI指标  |
| f193 | 布林带  | Float | -  | 布林带指标  |
| f194 | 威廉指标 | Float | -  | 威廉指标   |
| f195 | CCI  | Float | -  | CCI指标  |
| f196 | OBV  | Float | -  | OBV指标  |
| f197 | DMI  | Float | -  | DMI指标  |
| f199 | BIAS | Float | -  | BIAS指标 |

---

## 🔧 使用示例

### Python代码示例

```python
from core.financial_data_fetcher import FinancialDataFetcher

# 创建财务数据获取器
fetcher = FinancialDataFetcher()

# 获取东方财富数据（推荐）
data = fetcher.get_financial_data("sz000498", data_source='eastmoney')

# 获取腾讯财经数据
data = fetcher.get_financial_data("sz000498", data_source='tencent')

# 自动选择最佳数据源
data = fetcher.get_financial_data("sz000498", data_source='auto')

# 打印数据摘要
fetcher.print_financial_summary(data)

# 保存到JSON文件
fetcher.save_to_json(data, "sz000498")
```

### HTTP请求示例

```bash
# 东方财富API
curl "http://push2.eastmoney.com/api/qt/stock/get?secid=0.000498&fields=f43,f57,f58,f85,f86,f127,f128&ut=fa5fd1943c7b386f172d6893dbfba10b"

# 腾讯财经API
curl "http://qt.gtimg.cn/q=sz000498"
```

---

## 📊 数据质量对比

| 指标    | 东方财富   | 腾讯财经   | 新浪财经 |
|-------|--------|--------|------|
| 成功率   | 100%   | 100%   | 0%   |
| 响应时间  | 0.129s | 0.165s | 超时   |
| 字段数量  | 97个    | 18个    | 未知   |
| 数据准确性 | 优秀     | 良好     | 不可用  |
| 更新频率  | 实时     | 实时     | 未知   |
| 推荐指数  | ⭐⭐⭐⭐⭐  | ⭐⭐⭐⭐   | ⭐⭐   |

---

## 🎯 推荐使用策略

### 1. 主要数据源：东方财富

- **适用场景**: 需要完整财务指标分析
- **优势**: 数据最全面，字段最多
- **建议**: 作为主要数据源使用

### 2. 备用数据源：腾讯财经

- **适用场景**: 基础财务指标获取
- **优势**: 响应速度快，稳定性好
- **建议**: 作为备用数据源

### 3. 数据验证策略

- 对比多个数据源的关键指标
- 重点关注价格、换手率、市盈率等核心数据
- 发现异常数据时及时切换数据源

---

## ⚠️ 注意事项

1. **数据时效性**: 所有数据均为实时或准实时数据
2. **数据准确性**: 数据来源于第三方平台，仅供参考
3. **请求频率**: 建议控制请求频率，避免过于频繁
4. **错误处理**: 需要处理网络异常和数据解析错误
5. **数据验证**: 重要投资决策需要验证数据准确性

---

## 📞 技术支持

- **文档**: 参考 `docs/财务数据字段说明.md`
- **示例**: 参考 `financial-test/test_all_sources.py`
- **源码**: 参考 `core/financial_data_fetcher.py`

---

**报告生成时间**: 2025-08-11  
**测试股票数量**: 5只  
**测试数据源**: 3个  
**推荐数据源**: 东方财富API
