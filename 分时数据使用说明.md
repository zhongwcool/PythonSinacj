# ğŸ“Š åˆ†æ—¶æ•°æ®è·å–å·¥å…·ä½¿ç”¨è¯´æ˜

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

åˆ†æ—¶æ•°æ®è·å–å·¥å…·æ”¯æŒä¸¤ç§ç±»å‹çš„æ•°æ®ï¼š

1. **å®æ—¶æ•°æ®** - å½“å‰æ—¶åˆ»çš„è‚¡ç¥¨ä»·æ ¼ã€æˆäº¤é‡ç­‰ä¿¡æ¯
2. **åˆ†é’Ÿæ•°æ®** - æ¯åˆ†é’Ÿçš„Kçº¿æ•°æ®ï¼ŒåŒ…å«å¼€ç›˜ä»·ã€æœ€é«˜ä»·ã€æœ€ä½ä»·ã€æ”¶ç›˜ä»·ç­‰

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶

- **`realtime_data_fetcher.py`** - åˆ†æ—¶æ•°æ®è·å–å·¥å…·
- **`realtime_example.py`** - ä½¿ç”¨ç¤ºä¾‹

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è·å–å®æ—¶æ•°æ®

```python
from realtime_data_fetcher import RealtimeDataFetcher

# åˆ›å»ºæ•°æ®è·å–å™¨
fetcher = RealtimeDataFetcher()

# è·å–å®æ—¶æ•°æ®
realtime_data = fetcher.get_realtime_data("sz000498", 'realtime')

if realtime_data:
    # æ˜¾ç¤ºæ•°æ®æ‘˜è¦
    fetcher.print_realtime_summary(realtime_data)
    
    # ä¿å­˜æ•°æ®
    fetcher.save_to_json(realtime_data, "sz000498")
```

### 2. è·å–åˆ†é’Ÿæ•°æ®

```python
# è·å–1å¤©çš„åˆ†é’Ÿæ•°æ®
minute_df = fetcher.get_minute_data("sz000498", days=1, data_source='auto')

if minute_df is not None:
    # æ˜¾ç¤ºæ•°æ®æ‘˜è¦
    fetcher.print_minute_summary(minute_df, "sz000498")
    
    # ä¿å­˜æ•°æ®
    fetcher.save_to_csv(minute_df, "sz000498")
```

### 3. è¿è¡Œç¤ºä¾‹

```bash
# è¿è¡Œä¸»ç¨‹åº
python realtime_data_fetcher.py

# è¿è¡Œä½¿ç”¨ç¤ºä¾‹
python realtime_example.py
```

## ğŸ“Š æ•°æ®æ ¼å¼

### å®æ—¶æ•°æ®å­—æ®µ

| å­—æ®µå | è¯´æ˜ |
|--------|------|
| è‚¡ç¥¨ä»£ç  | è‚¡ç¥¨ä»£ç  |
| è‚¡ç¥¨åç§° | è‚¡ç¥¨åç§° |
| å½“å‰ä»·æ ¼ | å½“å‰æˆäº¤ä»·æ ¼ |
| æ¶¨è·Œé¢ | ç›¸å¯¹æ˜¨æ—¥æ”¶ç›˜ä»·çš„æ¶¨è·Œé‡‘é¢ |
| æ¶¨è·Œå¹… | ç›¸å¯¹æ˜¨æ—¥æ”¶ç›˜ä»·çš„æ¶¨è·Œç™¾åˆ†æ¯” |
| ä»Šæ—¥å¼€ç›˜ | ä»Šæ—¥å¼€ç›˜ä»· |
| æ˜¨æ—¥æ”¶ç›˜ | æ˜¨æ—¥æ”¶ç›˜ä»· |
| ä»Šæ—¥æœ€é«˜ | ä»Šæ—¥æœ€é«˜ä»· |
| ä»Šæ—¥æœ€ä½ | ä»Šæ—¥æœ€ä½ä»· |
| æˆäº¤é‡ | ä»Šæ—¥ç´¯è®¡æˆäº¤é‡ |
| æˆäº¤é¢ | ä»Šæ—¥ç´¯è®¡æˆäº¤é‡‘é¢ |
| ä¹°ä¸€ä»· | ä¹°ä¸€ä»·æ ¼ |
| ä¹°ä¸€é‡ | ä¹°ä¸€æ•°é‡ |
| å–ä¸€ä»· | å–ä¸€ä»·æ ¼ |
| å–ä¸€é‡ | å–ä¸€æ•°é‡ |
| æ›´æ–°æ—¶é—´ | æ•°æ®æ›´æ–°æ—¶é—´ |

### åˆ†é’Ÿæ•°æ®å­—æ®µ

| å­—æ®µå | è¯´æ˜ |
|--------|------|
| æ—¶é—´ | åˆ†é’Ÿæ—¶é—´æˆ³ |
| å¼€ç›˜ä»· | è¯¥åˆ†é’Ÿå¼€ç›˜ä»· |
| æœ€é«˜ä»· | è¯¥åˆ†é’Ÿæœ€é«˜ä»· |
| æœ€ä½ä»· | è¯¥åˆ†é’Ÿæœ€ä½ä»· |
| æ”¶ç›˜ä»· | è¯¥åˆ†é’Ÿæ”¶ç›˜ä»· |
| æˆäº¤é‡ | è¯¥åˆ†é’Ÿæˆäº¤é‡ |
| æˆäº¤é¢ | è¯¥åˆ†é’Ÿæˆäº¤é‡‘é¢ |
| æŒ¯å¹… | è¯¥åˆ†é’ŸæŒ¯å¹… |
| æ¶¨è·Œå¹… | è¯¥åˆ†é’Ÿæ¶¨è·Œå¹… |
| æ¶¨è·Œé¢ | è¯¥åˆ†é’Ÿæ¶¨è·Œé¢ |
| æ¢æ‰‹ç‡ | è¯¥åˆ†é’Ÿæ¢æ‰‹ç‡ |

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### 1. å®æ—¶ç›‘æ§
```python
# å®æ—¶ç›‘æ§è‚¡ç¥¨ä»·æ ¼å˜åŒ–
while True:
    realtime_data = fetcher.get_realtime_data("sz000498", 'realtime')
    if realtime_data:
        print(f"ä»·æ ¼: {realtime_data['å½“å‰ä»·æ ¼']:.2f} ({realtime_data['æ¶¨è·Œå¹…']:+.2f}%)")
    time.sleep(3)  # æ¯3ç§’æ›´æ–°ä¸€æ¬¡
```

### 2. åˆ†æ—¶åˆ†æ
```python
# è·å–å¤šå¤©åˆ†é’Ÿæ•°æ®è¿›è¡ŒæŠ€æœ¯åˆ†æ
minute_df = fetcher.get_minute_data("sz000498", days=5, data_source='auto')

# è®¡ç®—ç§»åŠ¨å¹³å‡çº¿
minute_df['MA5'] = minute_df['æ”¶ç›˜ä»·'].rolling(5).mean()
minute_df['MA10'] = minute_df['æ”¶ç›˜ä»·'].rolling(10).mean()
```

### 3. æ•°æ®å¯¼å‡º
```python
# å¯¼å‡ºä¸ºCSVæ–‡ä»¶ç”¨äºExcelåˆ†æ
fetcher.save_to_csv(minute_df, "sz000498", "åˆ†æ—¶æ•°æ®.csv")

# å¯¼å‡ºä¸ºJSONæ–‡ä»¶ç”¨äºç¨‹åºå¤„ç†
fetcher.save_to_json(realtime_data, "sz000498", "å®æ—¶æ•°æ®.json")
```

## âš™ï¸ é…ç½®é€‰é¡¹

### æ•°æ®æºé€‰æ‹©
- `data_source='auto'` - è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ•°æ®æº
- `data_source='sina'` - ä½¿ç”¨æ–°æµªè´¢ç»
- `data_source='eastmoney'` - ä½¿ç”¨ä¸œæ–¹è´¢å¯Œ

### æ—¶é—´èŒƒå›´
- `days=1` - è·å–1å¤©çš„åˆ†é’Ÿæ•°æ®
- `days=5` - è·å–5å¤©çš„åˆ†é’Ÿæ•°æ®
- `days=10` - è·å–10å¤©çš„åˆ†é’Ÿæ•°æ®

## ğŸ“ˆ æ•°æ®ç‰¹ç‚¹

### å®æ—¶æ•°æ®ç‰¹ç‚¹
- âœ… æ•°æ®å®æ—¶æ€§å¼ºï¼Œå»¶è¿Ÿä½
- âœ… åŒ…å«å®Œæ•´çš„ä¹°å–ç›˜ä¿¡æ¯
- âœ… é€‚åˆå®æ—¶ç›‘æ§å’Œäº¤æ˜“å†³ç­–
- âš ï¸ ä»…åœ¨äº¤æ˜“æ—¶é—´å†…æœ‰æ•ˆ

### åˆ†é’Ÿæ•°æ®ç‰¹ç‚¹
- âœ… åŒ…å«å®Œæ•´çš„Kçº¿ä¿¡æ¯
- âœ… é€‚åˆæŠ€æœ¯åˆ†æå’Œå›æµ‹
- âœ… æ•°æ®å†å²è¾ƒé•¿
- âš ï¸ æ•°æ®é‡è¾ƒå¤§ï¼Œå¤„ç†éœ€è¦æ—¶é—´

## ğŸ”§ é«˜çº§åŠŸèƒ½

### 1. å¤šè‚¡ç¥¨æ‰¹é‡è·å–
```python
stock_codes = ["sz000498", "sh000001", "sh600000"]
for stock_code in stock_codes:
    realtime_data = fetcher.get_realtime_data(stock_code, 'realtime')
    if realtime_data:
        print(f"{stock_code}: {realtime_data['å½“å‰ä»·æ ¼']:.2f}")
```

### 2. è‡ªå®šä¹‰æ•°æ®ä¿å­˜
```python
# è‡ªå®šä¹‰æ–‡ä»¶å
filename = f"åˆ†æ—¶æ•°æ®_{datetime.datetime.now().strftime('%Y%m%d')}.csv"
fetcher.save_to_csv(minute_df, "sz000498", filename)
```

### 3. æ•°æ®è´¨é‡æ£€æŸ¥
```python
# æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
if minute_df is not None and not minute_df.empty:
    print(f"æ•°æ®æ¡æ•°: {len(minute_df)}")
    print(f"æ—¶é—´èŒƒå›´: {minute_df['æ—¶é—´'].min()} è‡³ {minute_df['æ—¶é—´'].max()}")
    print(f"ç¼ºå¤±å€¼: {minute_df.isnull().sum().sum()}")
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **è¯·æ±‚é¢‘ç‡**: é¿å…è¿‡äºé¢‘ç¹çš„è¯·æ±‚ï¼Œå»ºè®®é—´éš”1-3ç§’
2. **äº¤æ˜“æ—¶é—´**: å®æ—¶æ•°æ®ä»…åœ¨äº¤æ˜“æ—¶é—´å†…æœ‰æ•ˆ
3. **æ•°æ®å»¶è¿Ÿ**: åˆ†æ—¶æ•°æ®å¯èƒ½æœ‰1-2åˆ†é’Ÿçš„å»¶è¿Ÿ
4. **ç½‘ç»œç¯å¢ƒ**: éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥

## ğŸ“ è¾“å‡ºæ–‡ä»¶

ç¨‹åºä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

- `sz000498_realtime_data_YYYYMMDD_HHMMSS.json` - å®æ—¶æ•°æ®JSONæ–‡ä»¶
- `sz000498_minute_data_YYYYMMDD_HHMMSS.csv` - åˆ†é’Ÿæ•°æ®CSVæ–‡ä»¶

## ğŸ¯ ä¸Kçº¿æ•°æ®å·¥å…·çš„åŒºåˆ«

| åŠŸèƒ½ | Kçº¿æ•°æ®å·¥å…· | åˆ†æ—¶æ•°æ®å·¥å…· |
|------|-------------|-------------|
| æ•°æ®ç²’åº¦ | æ—¥Kçº¿ | åˆ†é’ŸKçº¿ + å®æ—¶æ•°æ® |
| æ›´æ–°é¢‘ç‡ | æ¯æ—¥æ›´æ–° | å®æ—¶æ›´æ–° |
| æ•°æ®é‡ | è¾ƒå° | è¾ƒå¤§ |
| é€‚ç”¨åœºæ™¯ | é•¿æœŸåˆ†æ | çŸ­æœŸç›‘æ§ |
| æ•°æ®æº | å¤šæ•°æ®æº | ä¸»è¦æ–°æµªè´¢ç» |

---

*æ›´æ–°æ—¶é—´: 2025-08-02* 